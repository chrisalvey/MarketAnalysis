<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technical Indicators Dashboard</title>
    <script src="https://cdn.plot.ly/plotly-2.26.0.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div id="loadingMessage" class="loading">
            <span id="loadingText">Loading data from Alpha Vantage...</span><br>
            <small>This may take a few seconds on first load</small>
        </div>

        <div id="errorContainer"></div>

        <div id="mainContent" style="display: none;">
            <div class="header">
                <div class="ticker-selector">
                    <label for="symbolSelect">Select Symbol:</label>
                    <select id="symbolSelect" onchange="changeSymbol()">
                        <!-- Options will be populated by JavaScript -->
                    </select>
                </div>
                <h1>Technical Indicators Dashboard</h1>
                <div class="ticker" id="tickerInfo">VGT - Vanguard Information Technology ETF</div>
                <div class="price-info">
                    <span id="currentPrice">$---.--</span>
                    <span id="priceChange" style="margin-left: 15px;">---%</span>
                </div>
                <div class="last-updated">Last Updated: <span id="lastUpdated">--</span></div>
            </div>

            <button class="refresh-btn" onclick="loadAllData()">Refresh Data</button>

            <div class="grid">
                <!-- Moving Averages Card -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Moving Averages</div>
                        <div class="signal-badge" id="ma-signal">LOADING</div>
                    </div>
                    <div class="metrics">
                        <div class="metric">
                            <div class="metric-label">20-Day MA</div>
                            <div class="metric-value" id="ma20">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">50-Day MA</div>
                            <div class="metric-value" id="ma50">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">200-Day MA</div>
                            <div class="metric-value" id="ma200">--</div>
                        </div>
                    </div>
                    <div class="chart-container" id="ma-chart"></div>
                    <div class="explanation">
                        <h4>What This Means:</h4>
                        <p id="ma-explanation">Loading analysis...</p>
                    </div>
                </div>

                <!-- RSI Card -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">RSI (Relative Strength Index)</div>
                        <div class="signal-badge" id="rsi-signal">LOADING</div>
                    </div>
                    <div class="metrics">
                        <div class="metric">
                            <div class="metric-label">Current RSI</div>
                            <div class="metric-value" id="rsi-value">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Status</div>
                            <div class="metric-value" id="rsi-status">--</div>
                        </div>
                    </div>
                    <div class="chart-container" id="rsi-chart"></div>
                    <div class="explanation">
                        <h4>What This Means:</h4>
                        <p id="rsi-explanation">Loading analysis...</p>
                    </div>
                </div>

                <!-- MACD Card -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">MACD</div>
                        <div class="signal-badge" id="macd-signal">LOADING</div>
                    </div>
                    <div class="metrics">
                        <div class="metric">
                            <div class="metric-label">MACD Line</div>
                            <div class="metric-value" id="macd-value">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Signal Line</div>
                            <div class="metric-value" id="macd-signal-value">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Histogram</div>
                            <div class="metric-value" id="macd-histogram">--</div>
                        </div>
                    </div>
                    <div class="chart-container" id="macd-chart"></div>
                    <div class="explanation">
                        <h4>What This Means:</h4>
                        <p id="macd-explanation">Loading analysis...</p>
                    </div>
                </div>

                <!-- Bollinger Bands Card -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Bollinger Bands</div>
                        <div class="signal-badge" id="bb-signal">LOADING</div>
                    </div>
                    <div class="metrics">
                        <div class="metric">
                            <div class="metric-label">Upper Band</div>
                            <div class="metric-value" id="bb-upper">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Middle Band</div>
                            <div class="metric-value" id="bb-middle">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Lower Band</div>
                            <div class="metric-value" id="bb-lower">--</div>
                        </div>
                    </div>
                    <div class="chart-container" id="bb-chart"></div>
                    <div class="explanation">
                        <h4>What This Means:</h4>
                        <p id="bb-explanation">Loading analysis...</p>
                    </div>
                </div>

                <!-- Volume Card -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Volume Analysis</div>
                        <div class="signal-badge" id="volume-signal">LOADING</div>
                    </div>
                    <div class="metrics">
                        <div class="metric">
                            <div class="metric-label">Current Volume</div>
                            <div class="metric-value" id="current-volume">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Avg Volume</div>
                            <div class="metric-value" id="avg-volume">--</div>
                        </div>
                    </div>
                    <div class="chart-container" id="volume-chart"></div>
                    <div class="explanation">
                        <h4>What This Means:</h4>
                        <p id="volume-explanation">Loading analysis...</p>
                    </div>
                </div>

                <!-- Support & Resistance Card -->
                <div class="card">
                    <div class="card-header">
                        <div class="card-title">Support & Resistance</div>
                        <div class="signal-badge" id="sr-signal">LOADING</div>
                    </div>
                    <div class="metrics">
                        <div class="metric">
                            <div class="metric-label">Resistance</div>
                            <div class="metric-value" id="resistance">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Current Price</div>
                            <div class="metric-value" id="current-price-sr">--</div>
                        </div>
                        <div class="metric">
                            <div class="metric-label">Support</div>
                            <div class="metric-value" id="support">--</div>
                        </div>
                    </div>
                    <div class="chart-container" id="sr-chart"></div>
                    <div class="explanation">
                        <h4>What This Means:</h4>
                        <p id="sr-explanation">Loading analysis...</p>
                    </div>
                </div>
            </div>

            <!-- News Section -->
            <div class="news-section">
                <h2 class="news-title">Latest News</h2>
                <div id="newsContainer" class="news-container">
                    <div class="news-loading">Loading news...</div>
                </div>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="script.js"></script>
</body>
</html>
